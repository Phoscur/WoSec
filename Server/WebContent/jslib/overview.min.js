$(function(){var c="UpdateController?type=Instance";var b="SingleInstanceController?instance=";if(typeof Array.prototype.forEach!=="function"){Array.prototype.forEach=function(k){var g=this.length;if(typeof k!="function"){throw new TypeError()}var h=arguments[1];for(var j=0;j<g;j++){if(j in this){k.call(h,this[j],j,this)}}}}function e(j){var i=(((new Date()).getTime()-j*1000)/1000),g=Math.floor(i/86400);if(isNaN(g)||g<0){return}var h=new Date(j*1000);return'<span title="'+h.getDay()+"."+(h.getMonth()+1)+"."+h.getFullYear()+" "+h.getHours()+":"+h.getMinutes()+'">'+(g==0&&(i<60&&"gerade eben"||i<120&&"vor einer Minute"||i<3600&&"vor "+Math.floor(i/60)+" Minuten"||i<7200&&"vor einer Stunde"||i<86400&&"vor "+Math.floor(i/3600)+" Stunden")||g==1&&"Gestern"||g<7&&"vor "+g+" Tagen"||g<14&&"vor einer Woche"||g<31&&"vor "+Math.ceil(g/7)+" Wochen"||g<2*365&&"vor einem Jahr"||"vor "+Math.ceil(g/365)+" Jahren")+"</span>"}var a={terminateInstance:"Instanz beendet",createInstance:"Instanz gestartet",humanActivityExecuted:"Aktivität (Human-Task) wurde ausgeführt",eventActivityExecuted:"Aktivität (Event) wurde ausgeführt",WSActivityExecuted:"Aktivität (Webservice-Aufruf) wurde ausgeführt",WSProviderSelected:"Anbieter ausgewählt",startActivityExecution:"Aktivität unmittelbar vor Ausführung",DataTransferredToWS:"Übertragung von Daten an Webservice",DataTransferredFromWS:"Rückgabe von Daten von einem Webservice",HumanTaskExecutorSelected:"Benutzer für Aktivität ausgewählt",DataTransferredToHuman:"Übertragung von Daten an Menschen",DataTransferredFromHuman:"Eingabe von Daten durch Menschen"};var f=(function(){var j={};var h=$("#instancestable");var g=$("<tr><td><a/></td><td/><td/><td/></tr>");function i(n){var m={};var l=g.clone();var k=l.find("td");m.update=function(o){$(k[0]).find("a").attr("href",b+o.id).text(o.id);$(k[1]).text(o.workflowName);$(k[2]).html(e(o.create));$(k[3]).html(a[o.lastEvent]+" "+e(o.finished));if(o.lastEvent=="terminateInstance"){l.addClass("finished-instance")}};l.hide();h.append(l);m.update(n);l.fadeIn();l.css("display","table-row");return m}return{update:function(k){k.forEach(function(l){if(!j[l.id]){j[l.id]=i(l)}else{j[l.id].update(l)}})}}}());var d=(function(){return{init:function g(){$.getJSON(c,{},function(h){f.update(h)});setTimeout(g,5000);return this}}}()).init()});